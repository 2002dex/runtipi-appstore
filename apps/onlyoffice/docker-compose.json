{
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
  "schemaVersion": 2,
  "services": [
    {
      "name": "onlyoffice",
      "image": "onlyoffice/documentserver-ee:9.2.0.1",
      "isMain": true,
      "internalPort": 80,
      "addPorts": [
        {
          "containerPort": 80,
          "hostPort": 9980,
          "tcp": true
        }
      ],
      "environment": [
        { 
          "key": "JWT_ENABLED",
          "value": "true" 
        },
        { 
          "key": "JWT_SECRET", 
          "value": "iBFcoalGWCj30UW2BzLnShsRsRF7zcnJ" 
        },
        { 
          "key": "TZ", 
          "value": "Asia/Kolkata" 
        },
        { 
          "key": "ONLYOFFICE_DOMAIN", 
          "value": "${APP_DOMAIN}" 
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/onlyoffice/documentserver/data",
          "containerPath": "/var/www/onlyoffice/Data"
        },
        {
          "hostPath": "${APP_DATA_DIR}/data/onlyoffice/documentserver/logs",
          "containerPath": "/var/log/onlyoffice"
        },
        {
          "hostPath": "${APP_DATA_DIR}/data/onlyoffice/documentserver/lib",
          "containerPath": "/var/lib/onlyoffice"
        }
      ]
    }
  ]
}